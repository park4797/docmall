<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.test.mapper.AdCategoryMapper">
	<select id="getFirstCategoryList" resultType="com.test.domain.CategoryVO">
		SELECT
			CG_CODE,CG_PARENT_CODE,CG_NAME
		FROM
			CATEGORY_TBL
		WHERE
			CG_PARENT_CODE IS NULL
	</select>
	<select id="getSecondCategoryList" parameterType="Integer" resultType="com.test.domain.CategoryVO">
		SELECT
			CG_CODE,CG_PARENT_CODE,CG_NAME
		FROM
			CATEGORY_TBL
		WHERE
			CG_PARENT_CODE = #{cg_parent_code}
	</select>


	<!-- 상품테이블의 2차카테고리 코드의 1차카테고리 정보 -->
 	<select id="get" resultType="com.test.domain.CategoryVO" parameterType="Integer">
 		SELECT
 			CG_CODE, CG_PARENT_CODE, CG_NAME
		FROM
			CATEGORY_TBL
		WHERE
			CG_CODE = #{cg_code}
 	</select>
 	
 	<!-- 별칭을 주어 컬럼명과 필드명을 일치시켜서 받아냈다. 
 	<select id="getCateInfo1" resultType="com.test.domain.CateVO">
 		SELECT
 			cg_code AS cate_code,
 			cg_parent_code AS cate_parent_code,
 			cg_name AS cate_name
 		FROM
 			category_tbl
 	</select>
 	-->
 	
 	<!-- resultMap 을 사용하여 일치시켰다.  
 	<select id="getCateInfo2" resultMap="categoryMap">
 		SELECT
 			cg_code,
 			cg_parent_code,
 			cg_name
 		FROM
 			category_tbl
 	</select>
 	
 	<resultMap type="com.test.domain.CateVO" id="categoryMap">
 		<id property="cate_code" column="cg_code"/>
 		<result property="cate_parent_code" column="cg_parent_code"/>
 		<result property="cate_name" column="cg_name"/>
 	</resultMap>
 	-->
 	
 	

</mapper>